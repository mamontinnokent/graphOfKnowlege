Напомним, что команда _cd_ без аргументов делает домашнюю директорию пользователя рабочей (working directory). Возникает вопрос, каким образом она узнаёт о том, где находится домашняя директория? Можно предположить, что команда _cd_ каким-то образом обращается к операционной системе и узнаёт у неё эту информацию или смотрит напрямую в конфигурационных файлах. Но ни первого, ни второго она не делает.

Эта команда ориентируется на так называемую _переменную окружения_. Переменные окружения похожи на переменные в языках программирования. Они существуют в рамках запущенной сессии командного интерпретатора, подгружаются туда во время его инициализации (но это не единственный путь их появления). Посмотреть установленные переменные можно командой _env_ (**env**ironment). Ниже неполный список этих переменных, которые доступны на одном из серверов Хекслета.

```bash
env

TERM=xterm-256color
SHELL=/bin/bash
LC_ALL=en_US.UTF-8
USER=kirill.m
HEXLET_VERSION=v2711
PATH=/home/kirill.m/bin:/home/kirill.m/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin
PWD=/home/kirill.m
LANG=en_US.UTF-8
SHLVL=1
HOME=/home/kirill.m
LOGNAME=kirill.m
```

Формат вывода очень простой: слева от знака равно расположено имя переменной, справа — значение. Вывод команды _env_ в вашем случае будет отличаться не только значениями этих переменных, но и их составом. Например, у вас точно не будет `HEXLET_VERSION`, но наверняка будет `HOME`, только с другим значением.

Основное предназначение переменных окружения — конфигурирование системы и программ. Их удобство заключается в универсальности и отвязке от способа появления этих значений в системе. Возьмём ту же _cd_. Эта команда знает лишь то, что домашняя директория доступна в переменной окружения `HOME`. Как она попала в систему — не важно. Без переменной окружения пришлось бы делать одну из двух вещей:

-   При вызове _cd_ каждый раз указывать, где находится домашняя директория. Например, так: `cd --home-dir /home/kirill.m`. Но такой способ убивает весь смысл быстрого перехода в домашнюю директорию.
-   Договариваться о том, что где-то будет храниться специальный файл с настройками (в том числе домашней директории), которые будут читаться командой _cd_ при каждом запуске.

Существует некоторый базовый набор переменных, которые всегда устанавливаются bash при старте. Они используются большим количеством утилит и нужны для нормального функционирования системы. Одну из таких переменных мы уже знаем — это `HOME`.

```bash
# Для вывода переменной используется echo,
# а перед самой переменной ставится знак $.
echo $HOME

/home/kirill.m

# Вокруг знака равно не должно быть пробелов
HOME=/tmp
echo $HOME

/tmp

# Возвращаем обратно
HOME=/home/kirill.m
echo $HOME

/home/kirill.m
```

Теперь проведём эксперимент: попробуем установить `HOME` и выполнить переход в эту директорию с помощью команды _cd_, которая должна отправить нас в домашнюю директорию.

```
# Достаточно выполнить присваивание слева от запускаемой команды
HOME=/tmp cd

/tmp

pwd

/tmp
```

Команда `cd` выполнила переход по пути, указанном в переменной `HOME`. Теперь снова сделаем `cd`, но не добавляя определение переменной слева.

```bash
cd
pwd

/home/kirill.m

echo $HOME

/home/kirill.m
```

В этот раз произошёл переход в настоящую домашнюю директорию. Получается, что вызов `HOME=/tmp cd` изменил переменную только для того конкретного запуска. И действительно, существует два способа задавать значение переменной окружения: локальный и глобальный. Когда мы указали `HOME=/tmp` прямо перед командой `cd`, то переменная не была изменена для текущей сессии — она была изменена для запущенной команды, в данном случае `cd`. Такой трюк можно проделывать с любой командой. Другой способ установки изменяет значение глобально, для всей сессии и выполняется так:

```bash
echo $HOME

/home/kirill.m

export HOME=/tmp
cd
pwd

/tmp

echo $HOME

/tmp
```

_Обратите внимание на то, что изменение происходит в рамках текущей сессии, другими словами, если у вас открыто две вкладки терминала, и в каждой загружен bash, то изменение произойдёт только в той вкладке, в которой будет выполнена команда._