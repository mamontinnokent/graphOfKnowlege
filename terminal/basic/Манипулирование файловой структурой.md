Файловую структуру можно не только просматривать, но и всячески модифицировать. В прошлом уроке мы научились создавать файлы через перенаправление потоков, но всё это можно делать и напрямую.

_Учтите, что возможность модифицировать файловую структуру завязана на права пользователя. Если у вас нет соответствующих прав, вы получите ошибку доступа. Место, где вы гарантированно можете экспериментировать — ваша домашняя директория. Внутри неё всё доступно на запись._

Для примеров этого урока мы создали каталог `test` в домашней директории. То есть все демонстрируемые команды выполняются в директории по адресу: `~/test`.

Для создания файлов принято использовать утилиту `touch`.

_Основная задача утилиты — поменять время последнего доступа к файлу, но она обладает побочным эффектом. Если файла не существует, то он будет создан — именно поэтому её используют для создания файлов, хотя это не основное предназначение._

```bash
# В текущей директории создаётся пустой файл
touch empty-file
```

Удаляется файл командой `rm` (remove files):

```bash
rm empty-file
```

В *nix-системах не существует понятия "переименовать файл". Переименование всегда равносильно перемещению, которое выполняется командой `mv` (move)

```bash
touch file
mv file renamed-file
```

Для копирования файлов и директорий используется утилита `cp` (copy). Её первый аргумент — имя источника (откуда), второй — имя приёмника (куда).

```bash
cp renamed-file renamed-file-copy
```

Для копирования директории нужно добавить флаг `-r` (recursive).

Все эти и последующие утилиты работают с файлами и директориями, расположенными в любом месте файловой системы. Поэтому вы всегда можете передать любой путь: `touch /tmp/tempfile`.

Утилиты для работы с директориями частично отличаются. Создание директории выполняется командой `mkdir` (make directory).

```bash
mkdir my-dir
```

По умолчанию эта команда не создаёт вложенных директорий:

```bash
mkdir one/two/three
mkdir: cannot create directory ‘one/two/three’: No such file or directory
```

В такой ситуации придётся либо создавать каждую директорию отдельно, либо воспользоваться флагом `-p` (или `--parents`), который создаёт директории рекурсивно.

```bash
mkdir -p one/two/three
```

Удаление директорий выполняется той же командой, что и удаление файлов, но без флагов оно выдаёт предупреждение:

```bash
rm my-dir/
rm: cannot remove 'my-dir/': Is a directory
```

Чтобы не было ошибки, нужно добавить флаг `-r`. Он включает режим рекурсивного (r — recursion) удаления содержимого директорий, то есть идёт просмотр всего, что внутри во всех вложенных директориях и поддиректориях (до самого конца).

```bash
rm -r my-dir
```

Если внутри директории содержатся файлы или директории с ограниченными правами доступа, например, доступные только для чтения, то команда `rm` начнёт задавать вопрос по каждому из них, нужно ли его удалять. Если вы точно уверены, что удалить нужно всё, добавьте флаг `-f` (или `--force`) - этот флаг позволяет игнорировать несуществующие файлы и не запрашивать подтверждение на удаление. В таком случае `rm` удалит всю директорию без вопросов.

```bash
rm -rf one
```